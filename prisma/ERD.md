# DOCS
> Generated by [`prisma-markdown`](https://github.com/samchon/prisma-markdown)

- [Banking](#banking)
- [General](#general)
- [Order](#order)
- [Instructor](#instructor)
- [Invoice](#invoice)
- [Services](#services)

## Banking
```mermaid
erDiagram
"bank_account" {
  Int id PK
  Float amount_HUF
  Float amount
  String currency FK
  DateTime date
  String account FK
  Float amount_EUR
}
"bank_account_numbers" {
  String alias PK
  String bank
  String IBAN
  String currency FK
}
"bank_account" }o--|| "bank_account_numbers" : bank_account_numbers
```

### `bank_account`
Banki fiókok egy adott időpontokban lévő állapota

Power BI reportok és kimutatások készítéséhez szükséges adatok

**Properties**
  - `id`: Elsődleges kulcs
  - `amount_HUF`: A bank számla egyenlege forintban  
  - `amount`: A bank számla egyenlege a `currency` valutában
  - `currency`
    > A számla valutája
    > 
    > A [currency](#currency) tábla [code](#code) oszlopában felsoorolt valuták közül
  - `date`: A számla egyenlegéhez tartozó időpont
  - `account`: A számla azonosítója
  - `amount_EUR`: A számla egyenlege euróban

### `bank_account_numbers`
Banki fiókok

Power BI reportok és kimutatások készítéséhez szükséges adatok

**Properties**
  - `alias`
    > Elsődleges kulcs
    > 
    > A számla azonosítója
  - `bank`: A számlát vezető bank neve
  - `IBAN`: A számlához tartozó IBAN szám
  - `currency`: A számla valutája


## General
```mermaid
erDiagram
"country" {
  String code PK
  String name UK
  String region FK
}
"currency" {
  String code PK
}
"currency_exchange" {
  Int id PK
  Float HUFvalue
  DateTime exchange_date
  String currency FK
}
"holiday" {
  Int id PK
  DateTime start_date
  DateTime end_date
  String title "nullable"
}
"region" {
  String code PK
  String name UK
}
"country" }o--|| "region" : region_country_regionToregion
"currency_exchange" }o--|| "currency" : currency_currency_exchange_currencyTocurrency
```

### `country`
Országok

**Properties**
  - `code`
    > Elsődleges kulcs
    > 
    > Ország kódja
  - `name`: Ország neve
  - `region`: Ország régiója

### `currency`
Elfogadott Valuták

**Properties**
  - `code`
    > Elsődleges kulcs
    > 
    > Valuta kódja

### `currency_exchange`
Valuta árfolyamok az adott időpontban (Cache)

**Properties**
  - `id`: Elsődleges kulcs
  - `HUFvalue`: Egységnyi valuta értéke forintban
  - `exchange_date`: Az árfolyam érvényessége 
  - `currency`: Az árfolyam valutája

### `holiday`
Cég szintű szabadságok

**Properties**
  - `id`: Elsődleges kulcs
  - `start_date`: Szabadság kezdete
  - `end_date`: Szabadság vége
  - `title`: Szabadság megnevezése

### `region`
Régiók

**Properties**
  - `code`
    > Elsődleges kulcs
    > 
    > A régió kódja
  - `name`: A régió neve


## Order
```mermaid
erDiagram
"customer" {
  Int id PK
  String name "nullable"
  String country FK
  Int industry FK "nullable"
  Int terms "nullable"
}
"customer_contact" {
  Int id PK
  String last_name
  String first_name
  String display_name UK
  String email "nullable"
  String email_private "nullable"
  String phone1 "nullable"
  String phone2 "nullable"
  Int customer FK
  String note "nullable"
}
"industry" {
  Int id PK
  String name UK "nullable"
}
"order_pack_event" {
  Int id PK
  Int pack_event FK
  Int customer FK
  Int inv_customer FK
  Int contact FK "nullable"
  Float expected_amount
  String expected_amount_currency FK
  Float expected_amount_HUF "nullable"
  Float expected_amount_EUR "nullable"
  Int vat "nullable"
  DateTime payment_date "nullable"
  DateTime actual_report_date "nullable"
  String status
  String qoute
  String qoute_number "nullable"
  String po
  String po_number "nullable"
  String case_id "nullable"
  String oid "nullable"
  String far
  String invoiced
  String invoice_number "nullable"
  String note "nullable"
  String paid
  String anonym
  String is_far_required "nullable"
  String qr_eval "nullable"
}
"order_pack_unit_event" {
  Int id PK
  Int order_pack_event FK
  Int pack_unit_event FK
  Int participant_number "nullable"
}
"order_participant" {
  Int id PK
  Int participant FK
  Int order_pack_unit_event FK
  Int replace_event FK "nullable"
}
"participant" {
  Int id PK
  String email UK
  String name
  Int customer FK "nullable"
}
"customer" }o--o| "industry" : industry_customer_industryToindustry
"customer_contact" }o--|| "customer" : customer_customer_contact_customerTocustomer
"order_pack_event" }o--o| "customer_contact" : customer_contact
"order_pack_event" }o--|| "customer" : customer_order_pack_event_customerTocustomer
"order_pack_event" }o--|| "customer" : customer_order_pack_event_inv_customerTocustomer
"order_pack_unit_event" }o--|| "order_pack_event" : order_pack_event_order_pack_unit_event_order_pack_eventToorder_pack_event
"order_participant" }o--|| "order_pack_unit_event" : order_pack_unit_event_order_participant_order_pack_unit_eventToorder_pack_unit_event
"order_participant" }o--|| "participant" : participant_order_participant_participantToparticipant
"participant" }o--o| "customer" : customer_participant_customerTocustomer
```

### `customer`
Ügyfelek

A képzési rendszerben szereplő ügyfelek / cégek adatai

**Properties**
  - `id`: Elsődleges kulcs
  - `name`: Ügyfél neve
  - `country`: Ügyfél országa / székhelye
  - `industry`
    > Az ügyfél tevékenységi köre
    > 
    > Meghatározza, hogy milyen iparágban tevékenykedik az ügyfél a [industry.id](#industry) táblában szereplő iparágak közül
  - `terms`: Fizetési határidő

### `customer_contact`
Kapcsolattartók

**Properties**
  - `id`: Elsődleges kulcs
  - `last_name`: Kapcsolattartó vezetékneve
  - `first_name`: Kapcsolattartó keresztneve
  - `display_name`: Kapcsolattartó neve
  - `email`: Kapcsolattartó (publikus) email címe
  - `email_private`: Kapcsolattartó (privát) email címe
  - `phone1`: Kapcsolattartó telefonszáma
  - `phone2`: Kapcsolattartó másodlagos telefonszáma
  - `customer`: A kapcsolattaró munkahelye
  - `note`: Egyéb megjegyzés

### `industry`
Ügyfelek tevékenységi köre

**Properties**
  - `id`: Elsődleges kulcs
  - `name`: Az iparág neve

### `order_pack_event`
Adott projekthez tartozó megrendelések

**Properties**
  - `id`: Elsődleges kulcs
  - `pack_event`: A projekt azonosítója
  - `customer`: 
  - `inv_customer`: A számlázandó cég azonosítója
  - `contact`: Az ügyfél kapcsolattartójának azonosítója
  - `expected_amount`
    > A megrendelésből származó várható összeg
    > 
    > A várható összeg a `expected_amount_currency` valutában van megadva
  - `expected_amount_currency`: A várható összeg valutája
  - `expected_amount_HUF`: A várható összeg áttszámolva forintba
  - `expected_amount_EUR`: A várható összeg áttszámolva euróba
  - `vat`: ÁFA mértéke
  - `payment_date`: Kifizetési időpontja
  - `actual_report_date`: Rendelés időpontja (Kimutatásokhoz)
  - `status`
    > A rendelés státusza
    > 
    > A megrendelés lehet:
    > - Tervezett LEAD
    > - Informális INFOR
    > - Megrendelt OR
    > - Befejezett FIN
    > - Törölt CA
  - `qoute`: Van e hozzá kapcsolódó ajánlat
  - `qoute_number`: Árajánlat
  - `po`: PO státusza
  - `po_number`: PO száma
  - `case_id`: Case száma
  - `oid`: Offer száma
  - `far`: FAR státusza
  - `invoiced`: számlázás státusza
  - `invoice_number`: Számla száma
  - `note`: Megjegyzés
  - `paid`: Kifizetés státusza
  - `anonym`: Adott-e a résztvevők email címe
  - `is_far_required`: FAR szükséges-e
  - `qr_eval`: QR

### `order_pack_unit_event`
Egy projekthez tartozó megrendelési tétel

A megrendelt tétel a projekt kurzusának egy részletét jelenti
Például egy Kubernetes kurzus egy rész egy Docker bevezető képzés

**Properties**
  - `id`: Elsődleges kulcs
  - `order_pack_event`: A megrendelés azonosítója
  - `pack_unit_event`: A megrendelt tétel azonosítója
  - `participant_number`: A megrendelében szereplő résztvevők száma

### `order_participant`
A megrendelésben szereplő résztvevők

**Properties**
  - `id`: Elsődleges kulcs
  - `participant`: Résztvevő azonosítója
  - `order_pack_unit_event`: A megrendelt tétel azonosítója
  - `replace_event`
    > Csere esemény azonosítója
    > 
    > Amennyiben a résztvevő nem tud részt venni a kurzuson, akkor a csere esemény azonosítója kerül ide

### `participant`
Ügyfelek

**Properties**
  - `id`: Elsődleges kulcs
  - `email`: Az ügyfél email címe (Ide kapják meg a kurzus információkat és az írott tananyagot)
  - `name`: Az ügyfél neve
  - `customer`: Az ügyfél jelenlegi cégének azonosítója


## Instructor
```mermaid
erDiagram
"instructor" {
  Int id PK
  String last_name
  String first_name
  String display_name UK
  String email "nullable"
  String email_private "nullable"
  String phone "nullable"
  String id_number "nullable"
  Int company FK
  Int calendar_index
}
"instructor_company" {
  Int id PK
  String name UK
}
"instructor_holiday" {
  Int id PK
  Int instructor FK
  DateTime start_date
  DateTime end_date
  String title
}
"instructor_pack_unit_event" {
  Int id PK
  Int pack_unit_event FK
  Int instructor FK
  String confirmed
  String in_finance_plan
  String invoice
  String coc
  String total
}
"instructor_pack_unit_event_dates" {
  Int id PK
  Int instructor_pack_unit_event FK "nullable"
  DateTime day "nullable"
}
"instructor" }o--|| "instructor_company" : instructor_company
"instructor_holiday" }o--|| "instructor" : instructor_instructor_holiday_instructorToinstructor
"instructor_pack_unit_event" }o--|| "instructor" : instructor_instructor_pack_unit_event_instructorToinstructor
"instructor_pack_unit_event_dates" }o--o| "instructor_pack_unit_event" : instructor_pack_unit_event_instructor_pack_unit_event_dates_instructor_pack_unit_eventToinstructor_pack_unit_event
```

### `instructor`
Oktatók

**Properties**
  - `id`: Elsődleges kulcs
  - `last_name`: Oktató vezetékneve
  - `first_name`: Oktató keresztneve
  - `display_name`: Oktató neve
  - `email`: Oktató (publikus) email címe
  - `email_private`: Oktató (privát) email címe
  - `phone`: Oktató telefonszáma
  - `id_number`: Oktató személyi igazolvány száma
  - `company`: Az oktató cégének azonosítója
  - `calendar_index`: Az oktató sorszáma a Naptárban

### `instructor_company`
Oktatók cégének adatai

**Properties**
  - `id`: Elsődleges kulcs
  - `name`: Cég neve

### `instructor_holiday`
Oktatók tervezett szabadságai

**Properties**
  - `id`: Elsődleges kulcs
  - `instructor`: Oktató azonosítója
  - `start_date`: Szabadság kezdete
  - `end_date`: Szabadság vége
  - `title`: Szabadság megnevezése

### `instructor_pack_unit_event`
Oktatók rendelései

Az oktató által tartott megrendelésekhez az oktatóhoz tartozó adatok

**Properties**
  - `id`: Elsődleges kulcs
  - `pack_unit_event`: Egy projeckt egy kurzusának azonosítója
  - `instructor`: Az oktató azonosítója
  - `confirmed`: Az oktató visszaigazolta-e a rendelést
  - `in_finance_plan`: Az oktatásért kapott díj fel van-e számolva
  - `invoice`: Az oktatásért kapott díj számlázva van-e 
  - `coc`: Az oktatásért kapott díj teljesítve van-e
  - `total`: Az oktató a kurzus teljes időtartama alatt részt vesz-e

### `instructor_pack_unit_event_dates`
Oktatók rendelésének időpontjai

Amennyiben oktató nem a teljes időtartamra vesz részt egy kurzuson, akkor az időpontokat itt rögzítjük

**Properties**
  - `id`: Elsődleges kulcs
  - `instructor_pack_unit_event`: Az oktató megrendelésének azonosítója
  - `day`: A kurzus egy napja melyen az oktató részt vesz


## Invoice
```mermaid
erDiagram
"invoice" {
  Int id PK
  String invoice_number
  Int supplier FK
  String currency FK
  Int type FK
  DateTime invoice_date "nullable"
  DateTime payment_date "nullable"
  DateTime delivery_date "nullable"
  DateTime transfer_date "nullable"
  DateTime actual_report_date "nullable"
  String paid
  String status
  String accounting
  String note "nullable"
}
"invoice_line" {
  Int id PK
  String title
  Float gross
  Int vat
  Float net
  Int type FK
  String details "nullable"
  Int invoice FK
  Int pack_event FK "nullable"
}
"invoice_line_type" {
  Int id PK
  String name "nullable"
  Int type_group FK
}
"invoice_line_type_group" {
  Int id PK
  String name UK
}
"invoice_type" {
  Int id PK
  String name UK
}
"supplier" {
  Int id PK
  String name UK
}
"invoice" }o--|| "supplier" : supplier_invoice_supplierTosupplier
"invoice" }o--|| "invoice_type" : invoice_type
"invoice_line" }o--|| "invoice" : invoice_invoice_line_invoiceToinvoice
"invoice_line" }o--|| "invoice_line_type" : invoice_line_type
"invoice_line_type" }o--|| "invoice_line_type_group" : invoice_line_type_group
```

### `invoice`
Számlák

**Properties**
  - `id`: Elsődleges kulcs
  - `invoice_number`: Számla száma
  - `supplier`: A számla kiállítójának azonosítója
  - `currency`: A számla valutája
  - `type`: Számla típusának azonosítója
  - `invoice_date`: Számlázás dátuma
  - `payment_date`: Kifizetés dátuma
  - `delivery_date`: Beérkezés dátuma
  - `transfer_date`: Átutalás dátuma
  - `actual_report_date`: TODO(Kristofy): Pontosítani
  - `paid`: Kifizetés státusza
  - `status`: Számla státusza (valós, tervezett)
  - `accounting`: Könyvelt vagy sem
  - `note`: Megjegyzés

### `invoice_line`
Számla sorok

A számla sorok a számlákhoz tartozó tételek

**Properties**
  - `id`: Elsődleges kulcs
  - `title`: A tétel megnevezése
  - `gross`: Bruttó összeg
  - `vat`: ÁFA (százalékban)
  - `net`: Nettó összeg
  - `type`: Tétel típusának azonosítója
  - `details`: Egyéb részletek
  - `invoice`: A számla azonosítója
  - `pack_event`: A Projekt azonosítója

### `invoice_line_type`
Számla tétel típusok

**Properties**
  - `id`: Elsődleges kulcs
  - `name`: Tétel megnevezése
  - `type_group`: Tétel csoportja

### `invoice_line_type_group`
Számla tétel csoportok

**Properties**
  - `id`: Elsődleges kulcs
  - `name`: Csoport megnevezése

### `invoice_type`
Számla típusok

**Properties**
  - `id`: Elsődleges kulcs
  - `name`: Típus megnevezése

### `supplier`
A számlát kiállító entitások

**Properties**
  - `id`: Elsődleges kulcs
  - `name`: A számla kiállítójának neve


## Services
```mermaid
erDiagram
"pack" {
  Int id PK
  String code UK
  String name "nullable"
  String status
  Int list_price_HUF "nullable"
  Float list_price_EUR "nullable"
  Int topic FK "nullable"
  String type
}
"pack_event" {
  Int id PK
  Int pack FK
  String status
  Int price_HUF "nullable"
  Float price_EUR "nullable"
  DateTime start_date "nullable"
  DateTime end_date "nullable"
  Int income_HUF "nullable"
  Float income_EUR "nullable"
  String training_type
  String labor_status
  String courseware_status
  String teams_status
  String is_far_required "nullable"
  String qr_eval "nullable"
  String instructor_txt "nullable"
  String customer_txt "nullable"
}
"pack_unit" {
  Int id PK
  Int pack FK
  Int unit FK
}
"pack_unit_event" {
  Int id PK
  Int pack_event FK
  Int pack_unit FK
  String status
  DateTime start_date "nullable"
  DateTime end_date "nullable"
  String date_status
  DateTime start_time_loc "nullable"
  DateTime end_time_loc "nullable"
  DateTime start_time_part "nullable"
  DateTime end_time_part "nullable"
  String timezone "nullable"
  String place_type
  String country FK "nullable"
  String city "nullable"
  String language
  Int participant_number "nullable"
  String daypart
  String notes "nullable"
  Float timezone_diff "nullable"
  String is_traditional_weekend
}
"pack_version" {
  Int id PK
  Int pack FK
  String version
  String is_default
  String published
}
"topic" {
  Int id PK
  String name UK
}
"unit" {
  Int id PK
  String code UK
  String name "nullable"
  String status
  String type
  Int topic FK "nullable"
  Int list_price_HUF "nullable"
  Float list_price_EUR "nullable"
  Float length "nullable"
}
"unit_version" {
  Int id PK
  Int unit FK
  String version
  String is_default
  String published
}
"pack" }o--o| "topic" : topic_pack_topicTotopic
"pack_event" }o--|| "pack_version" : pack_version
"pack_unit" }o--|| "pack_version" : pack_version
"pack_unit" }o--|| "unit_version" : unit_version
"pack_unit_event" }o--|| "pack_event" : pack_event_pack_unit_event_pack_eventTopack_event
"pack_unit_event" }o--|| "pack_unit" : pack_unit_pack_unit_event_pack_unitTopack_unit
"pack_version" }o--|| "pack" : pack_pack_version_packTopack
"unit" }o--o| "topic" : topic_unit_topicTotopic
"unit_version" }o--|| "unit" : unit_unit_version_unitTounit
```

### `pack`
Csomag

Egy csomag egy kurzus amely több modulból / képzésből áll

**Properties**
  - `id`: Elsődleges kulcs
  - `code`: A csomag kódja
  - `name`: A csomag neve
  - `status`
    > A csomag státusza
    > 
    > A csomag lehet:
    > - Aktív A
    > - Inaktív I
  - `list_price_HUF`: A csomag lista ára forintban
  - `list_price_EUR`: A csomag lista ára euróban
  - `topic`
    > A csomag téma azonosítója
    > 
    > A csomag témája a [topic.id](#topic) táblában szereplő témák közül kerül ki
  - `type`
    > A csomag típusa
    > 
    > A csomag lehet:
    > - Képzés T
    > - Szupport S
    > - Konzultáció C

### `pack_event`
Projekt

Egy meghirdetett, megrendelhető kurzus

**Properties**
  - `id`: Elsődleges kulcs
  - `pack`: A Kurzus azonosítója
  - `status`
    > A Projekt státusza
    > 
    > A projekt lehet:
    > - folyamatban PR
    > - befejezett CL
    > - törölt CA
  - `price_HUF`: A projekt ára forintban
  - `price_EUR`: A projekt ára euróban
  - `start_date`: A projekt kezdő dátuma
  - `end_date`: A projekt befejező dátuma
  - `income_HUF`: A projektből származó bevétel forintban
  - `income_EUR`: A projektből származó bevétel euróban
  - `training_type`
    > A projekt típusa
    > 
    > A projekt lehet:
    > - Mindenki számára nyílt képzés OPEN
    > - Zárt csoportos képzés CL
    > - Csak az írott tananyagot tartalmazó képzés CW
  - `labor_status`: Az automatikus laborkörnyezet kiépítésének státusza
  - `courseware_status`: Az automatikus tananyag kiküldés státusza
  - `teams_status`: Az automatikus teams csoportok létrehozása és felvételek státusza
  - `is_far_required`: FAR szükséges-e
  - `qr_eval`: QR
  - `instructor_txt`
    > Az oktató neve
    > 
    > Több oktató esetén "Több oktató"
  - `customer_txt`
    > A megrendelő cég neve
    > 
    > Több cég esetén "Több cég"

### `pack_unit`
Csomagok felépítése

Megadja, hogy egy csomag melyik kurzusokból áll

**Properties**
  - `id`: Elsődleges kulcs
  - `pack`: A csomag megfelelő verziójának azonosítója
  - `unit`: A modul megfelelő verziójának azonosítója

### `pack_unit_event`
Egy projekthez tartozó modul

**Properties**
  - `id`: Elsődleges kulcs
  - `pack_event`: A Projekt azonosítója
  - `pack_unit`: A Csomag és a modul azonosítója
  - `status`
    > A modul státusza
    > 
    > A modul lehet:
    > - folyamatban PR
    > - befejezett CL
    > - törölt CA
  - `start_date`: A modul kezdő dátuma
  - `end_date`: A modul befejező dátuma
  - `date_status`
    > Az időpont státusza
    > 
    > Az időpont lehet:
    > - hiányzó M
    > - tervezett P
    > - fix F
  - `start_time_loc`: A modul kezdő időpontja lokális idő szerint
  - `end_time_loc`: A modul befejező időpontja lokális idő szerint
  - `start_time_part`: A modul kezdete az adott napokon HH:MM
  - `end_time_part`: A modul vége az adott napokon HH:MM
  - `timezone`
    > A modul időzónája
    > 
    > Az oktatás ehhez az időzónához igazodik
  - `place_type`
    > A helyszín típusa
    > 
    > A helyszín lehet:
    > - Online On
    > - Az oktató cégnél Com
    > - Ügyfélnél Cu
  - `country`: Az oktatás országa (ha az oktatás helyszíne az ügyfél cégénél van)
  - `city`: Az oktatás városa (ha az oktatás helyszíne az ügyfél cégénél van)
  - `language`: Az oktatás nyelve
  - `participant_number`: Az oktatásra jelentkezett résztvevők száma
  - `daypart`: Félnapos oktatás esetén a naprész (AM, PM, FULL)
  - `notes`: Megjegyzések
  - `timezone_diff`: Az időzóna különbsége a magyar időzónához képest
  - `is_traditional_weekend`: Az oktatandó ügyfelek a Szombat - Vasárnapot tekintik hétvégeknek

### `pack_version`
Csomagok verziói

Egy csomagnak létehzet több verziója
Ezekhez különböző laborkörnyezet és tananyag is tartozhat

**Properties**
  - `id`: Elsődleges kulcs
  - `pack`: A csomag azonosítója
  - `version`: A csomag verziója
  - `is_default`
    > Az alapértelmezett verzió
    > 
    > Amennyiben több verzió is létezik, akkor az alapértelmezett verzió az amelyiket ajánljuk, az újabb projekteket tipikusan ezzel a verzióval hozzuk létre
  - `published`: publikálva van-e, ha nem akkor vagy megszűnt vagy fejlesztés alatt van

### `topic`
Képzési témák

**Properties**
  - `id`: Elsődleges kulcs
  - `name`: A téma megnevezése

### `unit`
Modulok

Egy modul egy önmagában is oktatható képzési egység

**Properties**
  - `id`: Elsődleges kulcs
  - `code`: A modul kódja
  - `name`: A modul neve
  - `status`
    > A modul státusza
    > 
    > A modul lehet:
    > - Aktív A
    > - Inaktív I
  - `type`
    > A modul típusa
    > 
    > A modul lehet:
    > - Képzés T
    > - Szupport S
    > - Konzultáció C
  - `topic`
    > A modul témája
    > 
    > A modul témája a [topic.id](#topic) táblában szereplő témák közül kerül ki
  - `list_price_HUF`: A modul lista ára forintban
  - `list_price_EUR`: A modul lista ára euróban
  - `length`: A modul időtartama (napokban)

### `unit_version`
Modulok verziói

Egy modulnak létezhet több verziója
Ezekhez különböző laborkörnyezet és tananyag is tartozhat

**Properties**
  - `id`: Elsődleges kulcs
  - `unit`: A modul azonosítója
  - `version`: A modul verziója
  - `is_default`
    > Az alapértelmezett verzió 
    > 
    > Amennyiben több verzió is létezik, akkor az alapértelmezett verzió az amelyiket ajánljuk, az újabb projekteket tipikusan ezzel a verzióval hozzuk létre
  - `published`: publikálva van-e, ha nem akkor vagy megszűnt vagy fejlesztés alatt van